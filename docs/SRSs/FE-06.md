# FE-06: Thống kê Dashboard (Dashboard Statistics)

## 1. Tổng quan

Module Dashboard cung cấp cái nhìn tổng quan "ngay lập tức" về trạng thái hệ thống. Đây là màn hình đầu tiên quản trị viên thấy, hiển thị các chỉ số chính như tổng nhân khẩu, căn hộ và doanh thu.
Tương ứng với ticket Backend: `BE-15`.

## 2. Đặc tả giao diện (UI Specifications)

### Các thành phần (Components)

- **Top Stats Cards (Thẻ chỉ số)**: Chỉ hiển thị thông tin, không tương tác.
  1. `Tổng số Nhân khẩu`: Số lượng (Vd: 150) + Nhãn.
  2. `Tổng số Hộ khẩu`: Số lượng (Vd: 45) + Nhãn.
  3. `Tổng Doanh thu`: Tiền tệ (Vd: 150,000,000 VND).
  4. `Doanh thu tháng này`: Tiền tệ (Vd: 5,000,000 VND).
- **Recent Activity Widget (Hoạt động gần đây)**:
  - Danh sách 5 giao dịch gần nhất.
  - Các cột: `Căn hộ`, `Khoản thu`, `Số tiền`, `Thời gian` (Thời gian tương đối, Vd: "2 giờ trước").
- **Layout**: Grid layout (4 thẻ bên trên, Danh sách hoạt động bên dưới).

### Ánh xạ dữ liệu (Data Mapping)

| Nhãn trường (Label) | Tên biến FE           | Key Payload (API)     | Kiểu    |
| :------------------ | :-------------------- | :-------------------- | :------ |
| Residents Count     | `totalResidents`      | `totalResidents`      | Number  |
| Apartments Count    | `totalApartments`     | `totalApartments`     | Number  |
| Total Revenue       | `totalRevenue`        | `totalRevenue`        | Tiền tệ |
| Month Revenue       | `currentMonthRevenue` | `currentMonthRevenue` | Tiền tệ |
| Recent Tx           | `recentTransactions`  | `recentTransactions`  | Array   |

## 3. Luồng xử lý & Tương tác (Flow & Interaction)

### 3.1. Luồng chính

1. User đăng nhập thành công.
2. Được chuyển hướng đến `/dashboard`.
3. Page gọi API `GET /api/stats/dashboard`.
4. Render các Thẻ (Cards) và Danh sách.
5. (Tùy chọn) Tự động refresh mỗi phút hoặc nút "Làm mới".

## 4. Chi tiết triển khai kỹ thuật (Technical Implementation Details)

### API Endpoints

- **Get Stats**: `GET /api/stats/dashboard`

### Logic Frontend

- **Data Fetching**: Sử dụng Server Component để fetch dữ liệu ngay khi tải trang.
- **Formatting**:
  - Tiền tệ: `new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' })`.
  - Thời gian: Dùng `date-fns` (vi locale) để hiện "2 giờ trước" hoặc "DD/MM/YYYY".
- **Loading State**: Sử dụng Skeleton UI (các khối màu xám) cho các thẻ trong lúc đang tải dữ liệu để tăng trải nghiệm người dùng.

## 5. Git Branch

**Branch name**: `feature/FE-06-dashboard-statistics`