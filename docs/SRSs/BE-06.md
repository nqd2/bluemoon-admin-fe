### PHẦN 1: TÀI LIỆU KỸ THUẬT (SRS) CHO TICKET [BE-06]

#### **Ticket: [BE-06] Update & Delete Resident**

**1. Thông tin chung**

* **Assignee:** Backend Dev
* **Branch Name:** `feature/BE-06-update-delete-resident`
* **Estimated Time:** 2h

**2. Mô tả (Description)**
API cho phép cập nhật thông tin cá nhân của cư dân hoặc xóa cư dân khỏi hệ thống.

**3. Yêu cầu kỹ thuật (Technical Specs)**

*   **Update Endpoint:** `PUT /api/residents/:id`
    *   **Payload:** Các trường cần sửa (VD: `{ "fullName": "New Name", "status": "Tạm trú" }`).
*   **Delete Endpoint:** `DELETE /api/residents/:id`
*   **Logic:**
    *   Khi xóa, cần kiểm tra xem cư dân này có đang là **Chủ hộ** của căn hộ nào không.

**4. Acceptance Criteria (Tiêu chí chấp nhận)**

* [ ] **Update:** Cập nhật thành công các trường thông tin được gửi lên. Trả về thông tin mới nhất.
* [ ] **Delete Constraint:** Nếu cư dân là Chủ hộ (`role` trong Apartment là 'Chủ hộ' hoặc `ownerId` trỏ tới user này), hệ thống phải cảnh báo hoặc ngăn chặn xóa (trả về lỗi 400). Yêu cầu người dùng thay đổi chủ hộ trước.
* [ ] **Delete Action:** Thực hiện xóa (Hard Delete cho giai đoạn MVP). Trả về message thành công.
