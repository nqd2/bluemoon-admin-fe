### PHẦN 1: TÀI LIỆU KỸ THUẬT (SRS) CHO TICKET [BE-01]

#### **Ticket: [BE-01] Init Project & Database Connection**

**1. Thông tin chung**

* **Assignee:** Nguyễn Quý Đức (Fullstack Lead)
* **Branch Name:** `feature/BE-01-init-project`
* **Estimated Time:** 1h

**2. Mô tả (Description)**
Khởi tạo cấu trúc dự án Node.js/Express, cài đặt các thư viện nền tảng và thiết lập kết nối an toàn tới MongoDB Atlas. Thiết lập các cấu hình bảo mật và xử lý lỗi cơ bản.

**3. Yêu cầu kỹ thuật (Technical Specs)**

 **Runtime:** Node.js v18+

 **Package Manager:** pnpm (khuyến nghị) hoặc npm.

 **Core Dependencies:**

* `express`: Web framework.
* `mongoose`: ODM làm việc với MongoDB.
* `dotenv`: Quản lý biến môi trường.
* `cors`: Cho phép Cross-Origin Resource Sharing (để Frontend gọi được API).
* `helmet`: Bảo mật HTTP headers.
* `morgan` (Optional): Log HTTP request (dev mode).

 **Dev Dependencies:**

* `nodemon`: Tự động restart server khi code thay đổi.

**4. Cấu trúc thư mục khởi tạo**

```text
src/
├── config/
│   ├── db.js       # Logic connect MongoDB
│   └── cors.js     # Cấu hình CORS
├── middlewares/
│   └── errorMiddleware.js  # Global Error Handler
├── models/         # (Để trống)
├── routes/         # (Để trống)
├── controllers/    # (Để trống)
├── app.js          # Setup Express app, middlewares
└── server.js       # Entry point (Listen port)
.env                # Biến môi trường (Không commit)
.gitignore          # Ignore node_modules, .env

```

**5. Acceptance Criteria (Tiêu chí chấp nhận)**

* [ ] **Server:** Ứng dụng chạy thành công, lắng nghe tại port `5000` (hoặc port trong `.env`).
* [ ] **Database:** Console log hiển thị `MongoDB Connected: <host>` khi khởi chạy. Nếu kết nối thất bại, process phải exit(1).
* [ ] **Environment:** File `.env` mẫu (`.env.example`) được tạo đầy đủ các biến cần thiết (`PORT`, `MONGO_URI`, `NODE_ENV`).
* [ ] **CORS:** Cấu hình cho phép mọi origin (`*`) hoặc cụ thể domain frontend (localhost:3000).
* [ ] **Error Handling:** Middleware xử lý lỗi chung được cài đặt. Khi truy cập route không tồn tại, trả về JSON lỗi chuẩn (404 Not Found).

* *Format lỗi:* `{ message: "...", stack: "..." (chỉ hiện khi dev) }`

* [ ] **Git:** Mã nguồn được push lên branch `dev`.
